<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perfil / Autoconocimiento</title>
<link rel="icon" href="data:,">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:#f4f6f8;
}
header{
  background:#2c5f8d;
  color:#fff;
  padding:1.5rem;
  text-align:center;
}
main{
  max-width:900px;
  margin:auto;
  padding:1.5rem;
}
.card{
  background:#fff;
  padding:2rem;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
button{
  padding:.8rem 1.2rem;
  border:none;
  border-radius:6px;
  background:#2c5f8d;
  color:#fff;
  cursor:pointer;
  margin-top:1rem;
}
.screen{display:none;}
.screen.active{display:block;}

.tabs{
  display:flex;
  gap:.5rem;
  margin-bottom:1rem;
  flex-wrap:wrap;
}
.tab-btn{
  flex:1;
  padding:.6rem;
  background:#dee2e6;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
.tab-btn.active{
  background:#2c5f8d;
  color:#fff;
}
.tab-panel{display:none;}
.tab-panel.active{display:block;}

.section-title{
  margin-top:1.5rem;
  font-weight:bold;
  color:#2c5f8d;
}
.question{margin-bottom:1rem;}
.option{
  display:inline-block;
  margin:.25rem;
  padding:.45rem;
  border:1px solid #ccc;
  border-radius:6px;
  width:38px;
  text-align:center;
  cursor:pointer;
}
.option.selected{
  background:#2c5f8d;
  color:#fff;
  border-color:#2c5f8d;
}
.feedback{
  margin-top:1.5rem;
  padding:1rem;
  background:#eef2f5;
  border-radius:6px;
}
</style>
</head>

<body>

<header>
<h1>Perfil / Autoconocimiento</h1>
</header>

<main>

<!-- BIENVENIDA -->
<section id="screen-welcome" class="screen active">
  <div class="card">
    <h2>Bienvenido al Ejercicio de Autoconocimiento</h2>
    <p>
      Este instrumento, basado en Whetten & Cameron, te ayudará a reflexionar
      sobre cómo procesas información, asumes responsabilidad y enfrentas la incertidumbre.
    </p>
    <p>No hay respuestas correctas o incorrectas.</p>
    <button id="startBtn">Comenzar</button>
  </div>
</section>

<!-- EVALUACIÓN -->
<section id="screen-eval" class="screen">
  <div class="card">

    <div class="tabs">
      <button class="tab-btn active" data-tab="cog">Estilo Cognoscitivo</button>
      <button class="tab-btn" data-tab="locus">Locus de Control</button>
      <button class="tab-btn" data-tab="amb">Tolerancia a la Ambigüedad</button>
    </div>

    <div id="tab-cog" class="tab-panel active"></div>
    <div id="tab-locus" class="tab-panel"></div>
    <div id="tab-amb" class="tab-panel"></div>

  </div>
</section>

</main>

<script>
document.addEventListener("DOMContentLoaded", ()=>{

/* =====================
   DATOS
===================== */
const DATA = {
  cog:{
    scale:[1,2,3,4,5],
    sections:[
      {
        title:"Estilo de Planeación",
        questions:[
          "Para mí es muy importante la elaboración de un plan claro.",
          "Siempre me gusta saber qué se debe hacer y cuándo.",
          "Me gustan los planes de acción detallados.",
          "Prefiero contar con una estructura clara para hacer mi trabajo.",
          "Prefiero las reuniones bien planeadas y con una agenda clara.",
          "Tomo decisiones definitivas y hago seguimientos meticulosos.",
          "Una buena tarea es una tarea bien preparada."
        ]
      },
      {
        title:"Estilo Creativo",
        questions:[
          "Me gusta contribuir a soluciones innovadoras.",
          "Prefiero buscar soluciones creativas.",
          "Me siento motivado por la innovación continua.",
          "Me gusta tener una gran variedad en mi vida.",
          "Me atraen más las ideas nuevas que las soluciones ya existentes.",
          "Me gusta extender los límites.",
          "Trato de evitar la rutina."
        ]
      },
      {
        title:"Estilo de Conocimiento",
        questions:[
          "Me gusta entender plenamente un problema.",
          "Me gusta analizar los problemas.",
          "Realizo análisis detallados.",
          "Estudio cada problema hasta entender la lógica subyacente."
        ]
      }
    ]
  },

  locus:{
    scale:[0,1],
    questions:[
      "Mis logros dependen de mi esfuerzo.",
      "El éxito depende de la suerte.",
      "Puedo influir en lo que ocurre.",
      "Lo que me pasa está determinado por factores externos.",
      "Mis decisiones influyen directamente en mis resultados."
    ]
  },

  amb:{
    scale:[1,2,3,4,5,6,7],
    questions:[
      "Me siento cómodo con la incertidumbre.",
      "Prefiero instrucciones claras.",
      "Me adapto bien a situaciones nuevas.",
      "Me incomodan los cambios inesperados."
    ]
  }
};

const answers = { cog:[], locus:[], amb:[] };

/* =====================
   NAVEGACIÓN
===================== */
document.getElementById("startBtn").onclick = ()=>{
  document.getElementById("screen-welcome").classList.remove("active");
  document.getElementById("screen-eval").classList.add("active");
  openTab("cog");
};

document.querySelectorAll(".tab-btn").forEach(b=>{
  b.onclick = ()=>openTab(b.dataset.tab);
});

function openTab(tab){
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".tab-panel").forEach(p=>p.classList.remove("active"));
  document.querySelector(`.tab-btn[data-tab="${tab}"]`).classList.add("active");
  document.getElementById("tab-"+tab).classList.add("active");
  renderSection(tab);
}

/* =====================
   RENDER
===================== */
function renderSection(type){
  const panel = document.getElementById("tab-"+type);
  panel.innerHTML = "";

  if(type==="cog"){
    let i=0;
    DATA.cog.sections.forEach(sec=>{
      panel.innerHTML += `<div class="section-title">${sec.title}</div>`;
      sec.questions.forEach(q=>{
        renderQuestion(panel,type,i,q,DATA.cog.scale);
        i++;
      });
    });
  } else {
    DATA[type].questions.forEach((q,i)=>{
      renderQuestion(panel,type,i,q,DATA[type].scale);
    });
  }

  panel.innerHTML += `<button onclick="finishSection('${type}')">Finalizar sección</button>
                      <div class="feedback" id="fb-${type}"></div>`;
}

function renderQuestion(panel,type,i,text,scale){
  const div=document.createElement("div");
  div.className="question";
  div.innerHTML=`<p>${text}</p>`;
  const opts=document.createElement("div");

  scale.forEach(v=>{
    const o=document.createElement("span");
    o.className="option";
    o.textContent=v;
    o.onclick=()=>{
      answers[type][i]=v;
      opts.querySelectorAll(".option").forEach(x=>x.classList.remove("selected"));
      o.classList.add("selected");
    };
    opts.appendChild(o);
  });

  div.appendChild(opts);
  panel.appendChild(div);
}

/* =====================
   RESULTADOS
===================== */
window.finishSection = function(type){

  if(type==="cog"){
    const counts=[7,7,4];
    let idx=0, res=[];
    counts.forEach(c=>{
      let s=0;
      for(let i=0;i<c;i++){ s+=answers.cog[idx++]||0; }
      res.push((s/c).toFixed(2));
    });

    document.getElementById("fb-cog").innerHTML=`
      <h3>Resultados – Estilo Cognoscitivo</h3>
      <p><strong>Planeación:</strong> ${res[0]}</p>
      <p><strong>Creativo:</strong> ${res[1]}</p>
      <p><strong>Conocimiento:</strong> ${res[2]}</p>
      <p><em>No existe un estilo mejor que otro.</em></p>`;
  }

  if(type==="locus"){
    const sum=answers.locus.reduce((a,b)=>a+(b||0),0);
    let perfil = sum<=6 ? "Orientación Interna"
               : sum<=11 ? "Orientación Equilibrada"
               : "Orientación Externa";

    document.getElementById("fb-locus").innerHTML=`
      <h3>Locus de Control</h3>
      <p>Puntaje total: ${sum}</p>
      <p><strong>${perfil}</strong></p>`;
  }

  if(type==="amb"){
    document.getElementById("fb-amb").innerHTML=
      "<strong>Sección completada.</strong>";
  }
};

});
</script>

</body>
</html>
