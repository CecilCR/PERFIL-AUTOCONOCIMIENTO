<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Perfil / Autoconocimiento</title>

<style>
/* =======================
   ESTILOS GENERALES
   SUGERENCIA: mover luego a styles.css
======================= */
body{
  margin:0;
  font-family: Arial, sans-serif;
  background:#f4f6f8;
}
header{
  background:#2c5f8d;
  color:#fff;
  padding:1.5rem;
  text-align:center;
}
main{
  max-width:900px;
  margin:auto;
  padding:1.5rem;
}
.card{
  background:#fff;
  padding:2rem;
  border-radius:8px;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}
button{
  padding:.8rem 1.2rem;
  border:none;
  border-radius:6px;
  background:#2c5f8d;
  color:#fff;
  cursor:pointer;
}

/* =======================
   PANTALLAS
======================= */
.screen{ display:none; }
.screen.active{ display:block; }

/* =======================
   TABS
======================= */
.tabs{
  display:flex;
  gap:.5rem;
  margin-bottom:1rem;
}
.tab-btn{
  flex:1;
  padding:.6rem;
  background:#dee2e6;
  border:none;
  border-radius:6px;
  cursor:pointer;
}
.tab-btn.active{
  background:#2c5f8d;
  color:#fff;
}
.tab-panel{ display:none; }
.tab-panel.active{ display:block; }

/* =======================
   PREGUNTAS
======================= */
.question{ margin-bottom:1rem; }
.option{
  display:inline-block;
  margin:.2rem;
  padding:.5rem;
  border:1px solid #ccc;
  border-radius:6px;
  cursor:pointer;
  width:40px;
  text-align:center;
}
.option.selected{
  background:#2c5f8d;
  color:#fff;
  border-color:#2c5f8d;
}
.feedback{
  margin-top:1.5rem;
  padding:1rem;
  background:#eef2f5;
  border-radius:6px;
}
</style>
</head>

<body>

<header>
  <h1>Perfil / Autoconocimiento</h1>
</header>

<main>

<!-- =======================
     BIENVENIDA
     MEJORA: texto pedagógico claro
======================= -->
<section id="screen-welcome" class="screen active">
  <div class="card">
    <p>
      Este reporte analiza tres dimensiones que definen cómo interactúas con el mundo:
    </p>
    <ul>
      <li><strong>Locus de Control</strong>: tu sentido de responsabilidad.</li>
      <li><strong>Tolerancia a la Ambigüedad</strong>: tu manejo de la incertidumbre.</li>
      <li><strong>Estilo Cognoscitivo</strong>: tu forma de procesar información.</li>
    </ul>
    <p>No existen perfiles buenos o malos. El objetivo es la reflexión personal.</p>
    <button onclick="startEvaluation()">Comenzar autoevaluación</button>
  </div>
</section>

<!-- =======================
     EVALUACIÓN
======================= -->
<section id="screen-eval" class="screen">
  <div class="card">

    <div class="tabs">
      <button class="tab-btn active" data-tab="cog">Estilo Cognoscitivo</button>
      <button class="tab-btn" data-tab="locus">Locus de Control</button>
      <button class="tab-btn" data-tab="amb">Tolerancia a la Ambigüedad</button>
    </div>

    <div id="tab-cog" class="tab-panel active"></div>
    <div id="tab-locus" class="tab-panel"></div>
    <div id="tab-amb" class="tab-panel"></div>

  </div>
</section>

</main>

<script>
/* =======================
   DATOS
   MEJORA: luego cargar desde JSON
======================= */
const questions = {
  cog: [
    "Valoro la exactitud y los datos antes de decidir.",
    "Prefiero trabajar con planes bien definidos.",
    "Me gusta cuestionar lo establecido."
  ],
  locus: [
    "Mis logros dependen de mi esfuerzo.",
    "El éxito depende de la suerte.",
    "Puedo influir en lo que ocurre."
  ],
  amb: [
    "Me siento cómodo con la incertidumbre.",
    "Prefiero instrucciones claras.",
    "Puedo decidir con información incompleta."
  ]
};

const answers = { cog:[], locus:[], amb:[] };

/* =======================
   NAVEGACIÓN
======================= */
function startEvaluation(){
  showScreen("screen-eval");
  openTab("cog");
}

function showScreen(id){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

/* =======================
   TABS
======================= */
document.querySelectorAll(".tab-btn").forEach(btn=>{
  btn.addEventListener("click",()=>{
    openTab(btn.dataset.tab);
  });
});

function openTab(tab){
  document.querySelectorAll(".tab-btn").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".tab-panel").forEach(p=>p.classList.remove("active"));

  document.querySelector(`.tab-btn[data-tab="${tab}"]`).classList.add("active");
  document.getElementById("tab-"+tab).classList.add("active");

  renderQuestions(tab);
}

/* =======================
   RENDER DE PREGUNTAS
   MEJORA: validación por sección
======================= */
function renderQuestions(type){
  const panel=document.getElementById("tab-"+type);
  panel.innerHTML="";

  questions[type].forEach((q,i)=>{
    const div=document.createElement("div");
    div.className="question";
    div.innerHTML=`<p>${q}</p>`;

    const scale = type==="locus" ? [0,1] : type==="amb" ? [1,2,3,4,5,6,7] : [1,2,3,4,5];

    scale.forEach(v=>{
      const opt=document.createElement("span");
      opt.className="option";
      opt.textContent=v;
      opt.onclick=()=>{
        answers[type][i]=v;
        div.querySelectorAll(".option").forEach(o=>o.classList.remove("selected"));
        opt.classList.add("selected");
      };
      div.appendChild(opt);
    });

    panel.appendChild(div);
  });

  panel.innerHTML+=`<button onclick="finishSection('${type}')">Finalizar sección</button>
                   <div class="feedback" id="fb-${type}"></div>`;
}

/* =======================
   FEEDBACK BÁSICO
   MEJORA: aquí va tu TEXTO PEDAGÓGICO COMPLETO
======================= */
function finishSection(type){
  if(answers[type].length < questions[type].length){
    alert("Responde todas las preguntas");
    return;
  }
  document.getElementById("fb-"+type).innerHTML =
    "<strong>Sección completada.</strong> Reflexiona sobre tus respuestas.";
}
</script>

</body>
</html>
